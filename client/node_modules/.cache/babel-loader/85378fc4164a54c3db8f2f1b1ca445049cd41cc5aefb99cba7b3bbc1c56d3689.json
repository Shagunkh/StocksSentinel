{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shagun Khandelwal\\\\zerodha\\\\client\\\\src\\\\components\\\\AISummary\\\\AISummary.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Chart as ChartJS, CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler } from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport './AISummary.css';\n\n// Register ChartJS components\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler);\nconst AISummary = () => {\n  _s();\n  const {\n    symbol\n  } = useParams();\n  const navigate = useNavigate();\n  const [summary, setSummary] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [query, setQuery] = useState('');\n  const [customQueryResult, setCustomQueryResult] = useState(null);\n  const [isCustomQuery, setIsCustomQuery] = useState(false);\n  const [stockSearch, setStockSearch] = useState('');\n  const [chartData, setChartData] = useState(null);\n  const [news, setNews] = useState([]);\n  const [chartSummary, setChartSummary] = useState('');\n  const [newsSummary, setNewsSummary] = useState('');\n  const [activeTab, setActiveTab] = useState('analysis');\n  const FINNHUB_API_KEY = 'd17tfrhr01qteuvpuh10d17tfrhr01qteuvpuh1g';\n  const OPENROUTER_API_KEY = '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';\n\n  // Fetch stock summary\n  const fetchStockSummary = async (stockSymbol, customQuestion = '') => {\n    try {\n      setLoading(true);\n      setError(null);\n      setIsCustomQuery(!!customQuestion);\n      const messages = [{\n        \"role\": \"system\",\n        \"content\": \"You are a financial analyst providing accurate stock information. Provide detailed responses with key metrics when available.\"\n      }];\n      if (customQuestion) {\n        messages.push({\n          \"role\": \"user\",\n          \"content\": `${customQuestion} about ${stockSymbol} stock. Provide detailed analysis with numbers if available.`\n        });\n      } else {\n        messages.push({\n          \"role\": \"system\",\n          \"content\": \"Provide a comprehensive analysis including company overview, recent performance, key metrics, and outlook. Keep it between 200-300 words.\"\n        }, {\n          \"role\": \"user\",\n          \"content\": `Provide a detailed analysis of ${stockSymbol} stock. Include important metrics like P/E ratio, market cap, dividend yield if available, and recent performance.`\n        });\n      }\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\n        model: \"openai/gpt-3.5-turbo\",\n        messages: messages,\n        max_tokens: 1000\n      }, {\n        headers: {\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const result = response.data.choices[0].message.content;\n      if (customQuestion) {\n        setCustomQueryResult(result);\n      } else {\n        setSummary(result);\n      }\n    } catch (err) {\n      console.error(\"Error generating summary:\", err);\n      setError('Failed to generate response. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch 1-day chart data\n  const fetchChartData = async stockSymbol => {\n    try {\n      // First try Finnhub\n      try {\n        var _data$c;\n        const to = Math.floor(Date.now() / 1000);\n        const from = to - 24 * 60 * 60;\n        const resolution = '5';\n        const response = await axios.get(`https://finnhub.io/api/v1/stock/candle?symbol=${stockSymbol}&resolution=${resolution}&from=${from}&to=${to}&token=${FINNHUB_API_KEY}`);\n        const data = response.data;\n        if (data.s === 'ok' && ((_data$c = data.c) === null || _data$c === void 0 ? void 0 : _data$c.length) > 0) {\n          const chartLabels = data.t.map(timestamp => new Date(timestamp * 1000).toLocaleTimeString());\n          const chartData = {\n            labels: chartLabels,\n            datasets: [{\n              label: `${stockSymbol} Price`,\n              data: data.c,\n              borderColor: '#3a80e9',\n              backgroundColor: 'rgba(58, 128, 233, 0.3)',\n              borderWidth: 2,\n              tension: 0,\n              fill: true\n            }]\n          };\n          setChartData(chartData);\n          generateChartSummary(stockSymbol, data.c);\n          return;\n        }\n      } catch (finnhubError) {\n        console.log('Finnhub failed, trying Yahoo Finance...');\n      }\n\n      // Fallback to Yahoo Finance\n      try {\n        var _response$data$chart, _response$data$chart$;\n        const response = await axios.get(`https://query1.finance.yahoo.com/v8/finance/chart/${stockSymbol}?range=1d&interval=5m`);\n        if ((_response$data$chart = response.data.chart) !== null && _response$data$chart !== void 0 && (_response$data$chart$ = _response$data$chart.result) !== null && _response$data$chart$ !== void 0 && _response$data$chart$[0]) {\n          const result = response.data.chart.result[0];\n          const timestamps = result.timestamp;\n          const quotes = result.indicators.quote[0].close;\n          const chartLabels = timestamps.map(timestamp => new Date(timestamp * 1000).toLocaleTimeString());\n          setChartData({\n            labels: chartLabels,\n            datasets: [{\n              label: `${stockSymbol} Price`,\n              data: quotes,\n              borderColor: '#3a80e9',\n              backgroundColor: 'rgba(58, 128, 233, 0.3)',\n              borderWidth: 2,\n              tension: 0,\n              fill: true\n            }]\n          });\n          generateChartSummary(stockSymbol, quotes);\n        }\n      } catch (yahooError) {\n        console.error('Failed to fetch chart data:', yahooError);\n      }\n    } catch (err) {\n      console.error('Error fetching chart data:', err);\n    }\n  };\n\n  // Generate AI summary of the chart\n  const generateChartSummary = async (stockSymbol, priceData) => {\n    try {\n      if (!priceData || priceData.length === 0) return;\n      const openPrice = priceData[0];\n      const currentPrice = priceData[priceData.length - 1];\n      const highPrice = Math.max(...priceData);\n      const lowPrice = Math.min(...priceData);\n      const change = currentPrice - openPrice;\n      const percentChange = change / openPrice * 100;\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\n        model: \"openai/gpt-3.5-turbo\",\n        messages: [{\n          \"role\": \"system\",\n          \"content\": \"You are a financial analyst providing concise technical analysis of stock charts.\"\n        }, {\n          \"role\": \"user\",\n          \"content\": `Provide a brief (2-3 sentence) technical summary of ${stockSymbol}'s trading today. \n                        Open: $${openPrice.toFixed(2)}, Current: $${currentPrice.toFixed(2)}, \n                        High: $${highPrice.toFixed(2)}, Low: $${lowPrice.toFixed(2)}, \n                        Change: ${change >= 0 ? '+' : ''}${change.toFixed(2)} (${percentChange >= 0 ? '+' : ''}${percentChange.toFixed(2)}%). \n                        Focus on key price action and trends.`\n        }],\n        max_tokens: 200\n      }, {\n        headers: {\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setChartSummary(response.data.choices[0].message.content);\n    } catch (err) {\n      console.error(\"Error generating chart summary:\", err);\n    }\n  };\n\n  // Fetch market news\n  const fetchStockNews = async stockSymbol => {\n    try {\n      const response = await axios.get(`https://finnhub.io/api/v1/company-news?symbol=${stockSymbol}&from=${new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}&to=${new Date().toISOString().split('T')[0]}&token=${FINNHUB_API_KEY}`);\n\n      // Filter for relevant news (some APIs return many unrelated articles)\n      const filteredNews = response.data.filter(item => item.headline && item.headline.toLowerCase().includes(stockSymbol.toLowerCase())).slice(0, 5); // Limit to 5 most recent\n\n      setNews(filteredNews);\n      generateNewsSummary(stockSymbol, filteredNews);\n    } catch (err) {\n      console.error(\"Error fetching news:\", err);\n    }\n  };\n\n  // Generate AI summary of the news\n  const generateNewsSummary = async (stockSymbol, newsItems) => {\n    try {\n      if (!newsItems || newsItems.length === 0) return;\n      const headlines = newsItems.map(item => item.headline).join('\\n- ');\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\n        model: \"openai/gpt-3.5-turbo\",\n        messages: [{\n          \"role\": \"system\",\n          \"content\": \"You are a financial news analyst that summarizes recent market news about stocks.\"\n        }, {\n          \"role\": \"user\",\n          \"content\": `Provide a concise 3-4 sentence summary of the key recent news about ${stockSymbol} based on these headlines:\n                        - ${headlines}\n                        \n                        Focus on the most impactful developments and overall sentiment.`\n        }],\n        max_tokens: 300\n      }, {\n        headers: {\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      setNewsSummary(response.data.choices[0].message.content);\n    } catch (err) {\n      console.error(\"Error generating news summary:\", err);\n    }\n  };\n\n  // Load all data when symbol changes\n  useEffect(() => {\n    if (symbol) {\n      setLoading(true);\n      fetchStockSummary(symbol);\n      fetchChartData(symbol);\n      fetchStockNews(symbol);\n    }\n  }, [symbol]);\n  const handleQuerySubmit = e => {\n    e.preventDefault();\n    if (query.trim() && symbol) {\n      fetchStockSummary(symbol, query);\n      setQuery('');\n    }\n  };\n  const handleStockSearch = e => {\n    e.preventDefault();\n    if (stockSearch.trim()) {\n      navigate(`/ai-summary/${stockSearch.trim().toUpperCase()}`);\n    }\n  };\n\n  // Chart options\n  const chartOptions = {\n    responsive: true,\n    plugins: {\n      legend: {\n        display: false\n      },\n      tooltip: {\n        mode: 'index',\n        intersect: false,\n        callbacks: {\n          label: function (context) {\n            return `${context.dataset.label}: $${context.parsed.y.toFixed(2)}`;\n          }\n        }\n      }\n    },\n    scales: {\n      y: {\n        beginAtZero: false,\n        ticks: {\n          callback: function (value) {\n            return '$' + value.toFixed(2);\n          }\n        }\n      },\n      x: {\n        grid: {\n          display: false\n        }\n      }\n    }\n  };\n\n  // If no symbol is selected\n  if (!symbol) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-summary-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"ai-summary-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Stock Analysis Tool\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"primary-search-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleStockSearch,\n          className: \"primary-search-form\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: stockSearch,\n            onChange: e => setStockSearch(e.target.value),\n            placeholder: \"Enter a stock symbol (e.g., AAPL, MSFT)\",\n            className: \"primary-search-input\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 355,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"primary-search-button\",\n            children: \"Analyze Stock\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 354,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"search-examples\",\n          children: \"Try: AAPL, MSFT, TSLA, GOOGL, AMZN\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"welcome-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Welcome to Stock Analysis AI\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Get comprehensive AI-powered analysis of any publicly traded company. Enter a stock symbol above to begin.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 374,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"features\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Features:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 379,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Detailed company overview and financial metrics\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Recent performance analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"1-day price chart with technical summary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Latest market news with sentiment analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"Ability to ask specific questions about any stock\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 385,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 380,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 348,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-summary-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-summary-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [symbol, \" Stock Analysis\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate('/ai-summary'),\n        className: \"back-button\",\n        children: \"Analyze Another Stock\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 395,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search-section\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleQuerySubmit,\n        className: \"query-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: query,\n          onChange: e => setQuery(e.target.value),\n          placeholder: `Ask anything about ${symbol}...`,\n          className: \"query-input\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"query-button\",\n          children: \"Ask\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 403,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'analysis' ? 'active' : ''}`,\n        onClick: () => setActiveTab('analysis'),\n        children: \"AI Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 418,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'chart' ? 'active' : ''}`,\n        onClick: () => setActiveTab('chart'),\n        children: \"Price Chart\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'news' ? 'active' : ''}`,\n        onClick: () => setActiveTab('news'),\n        children: \"Market News\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 417,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-summary-content\",\n      children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"spinner\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 441,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Generating AI-powered analysis...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 446,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => window.location.reload(),\n          className: \"retry-button\",\n          children: \"Retry\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 445,\n        columnNumber: 11\n      }, this) : isCustomQuery ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"query-result\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Response to your query:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"result-text\",\n          children: customQueryResult.split('\\n').map((paragraph, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n            children: paragraph\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setIsCustomQuery(false),\n          className: \"show-original-button\",\n          children: \"Show Full Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [activeTab === 'analysis' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"summary-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Comprehensive Analysis of \", symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"summary-text\",\n            children: summary.split('\\n').map((paragraph, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n              children: paragraph\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 15\n        }, this), activeTab === 'chart' && chartData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chart-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [symbol, \" Today's Price Action\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 481,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-container\",\n            children: /*#__PURE__*/_jsxDEV(Line, {\n              data: chartData,\n              options: chartOptions\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this), chartSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chart-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Technical Summary:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 487,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: chartSummary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 488,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 480,\n          columnNumber: 15\n        }, this), activeTab === 'news' && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Latest News About \", symbol]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 17\n          }, this), newsSummary && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-summary\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"News Summary:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 499,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: newsSummary\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"news-list\",\n            children: news.length > 0 ? news.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"news-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: item.url,\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\",\n                  children: item.headline\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 508,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 507,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"news-source\",\n                children: [item.source, \" - \", new Date(item.datetime * 1000).toLocaleDateString()]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 512,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"news-summary\",\n                children: item.summary || 'No summary available'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 513,\n                columnNumber: 25\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 23\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"No recent news found for \", symbol]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 503,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 495,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 438,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 394,\n    columnNumber: 5\n  }, this);\n};\n_s(AISummary, \"ZkJZvE/IsEVksgx1ZO+23iRkY0E=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AISummary;\nexport default AISummary;\nvar _c;\n$RefreshReg$(_c, \"AISummary\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","Chart","ChartJS","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","Line","jsxDEV","_jsxDEV","Fragment","_Fragment","register","AISummary","_s","symbol","navigate","summary","setSummary","loading","setLoading","error","setError","query","setQuery","customQueryResult","setCustomQueryResult","isCustomQuery","setIsCustomQuery","stockSearch","setStockSearch","chartData","setChartData","news","setNews","chartSummary","setChartSummary","newsSummary","setNewsSummary","activeTab","setActiveTab","FINNHUB_API_KEY","OPENROUTER_API_KEY","fetchStockSummary","stockSymbol","customQuestion","messages","push","response","post","model","max_tokens","headers","result","data","choices","message","content","err","console","fetchChartData","_data$c","to","Math","floor","Date","now","from","resolution","get","s","c","length","chartLabels","t","map","timestamp","toLocaleTimeString","labels","datasets","label","borderColor","backgroundColor","borderWidth","tension","fill","generateChartSummary","finnhubError","log","_response$data$chart","_response$data$chart$","chart","timestamps","quotes","indicators","quote","close","yahooError","priceData","openPrice","currentPrice","highPrice","max","lowPrice","min","change","percentChange","toFixed","fetchStockNews","toISOString","split","filteredNews","filter","item","headline","toLowerCase","includes","slice","generateNewsSummary","newsItems","headlines","join","handleQuerySubmit","e","preventDefault","trim","handleStockSearch","toUpperCase","chartOptions","responsive","plugins","legend","display","tooltip","mode","intersect","callbacks","context","dataset","parsed","y","scales","beginAtZero","ticks","callback","value","x","grid","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","target","placeholder","autoFocus","onClick","window","location","reload","paragraph","i","options","index","href","url","rel","source","datetime","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/Shagun Khandelwal/zerodha/client/src/components/AISummary/AISummary.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport {\r\n  Chart as ChartJS,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  Filler,\r\n} from 'chart.js';\r\nimport { Line } from 'react-chartjs-2';\r\nimport './AISummary.css';\r\n\r\n// Register ChartJS components\r\nChartJS.register(\r\n  CategoryScale,\r\n  LinearScale,\r\n  PointElement,\r\n  LineElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n  Filler\r\n);\r\n\r\nconst AISummary = () => {\r\n  const { symbol } = useParams();\r\n  const navigate = useNavigate();\r\n  const [summary, setSummary] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [query, setQuery] = useState('');\r\n  const [customQueryResult, setCustomQueryResult] = useState(null);\r\n  const [isCustomQuery, setIsCustomQuery] = useState(false);\r\n  const [stockSearch, setStockSearch] = useState('');\r\n  const [chartData, setChartData] = useState(null);\r\n  const [news, setNews] = useState([]);\r\n  const [chartSummary, setChartSummary] = useState('');\r\n  const [newsSummary, setNewsSummary] = useState('');\r\n  const [activeTab, setActiveTab] = useState('analysis');\r\n\r\n  const FINNHUB_API_KEY = 'd17tfrhr01qteuvpuh10d17tfrhr01qteuvpuh1g';\r\n  const OPENROUTER_API_KEY = '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';\r\n\r\n  // Fetch stock summary\r\n  const fetchStockSummary = async (stockSymbol, customQuestion = '') => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      setIsCustomQuery(!!customQuestion);\r\n\r\n      const messages = [\r\n        { \r\n          \"role\": \"system\", \r\n          \"content\": \"You are a financial analyst providing accurate stock information. Provide detailed responses with key metrics when available.\" \r\n        }\r\n      ];\r\n\r\n      if (customQuestion) {\r\n        messages.push({\r\n          \"role\": \"user\",\r\n          \"content\": `${customQuestion} about ${stockSymbol} stock. Provide detailed analysis with numbers if available.`\r\n        });\r\n      } else {\r\n        messages.push(\r\n          {\r\n            \"role\": \"system\",\r\n            \"content\": \"Provide a comprehensive analysis including company overview, recent performance, key metrics, and outlook. Keep it between 200-300 words.\"\r\n          },\r\n          {\r\n            \"role\": \"user\",\r\n            \"content\": `Provide a detailed analysis of ${stockSymbol} stock. Include important metrics like P/E ratio, market cap, dividend yield if available, and recent performance.`\r\n          }\r\n        );\r\n      }\r\n\r\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\r\n        model: \"openai/gpt-3.5-turbo\",\r\n        messages: messages,\r\n        max_tokens: 1000\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      const result = response.data.choices[0].message.content;\r\n      \r\n      if (customQuestion) {\r\n        setCustomQueryResult(result);\r\n      } else {\r\n        setSummary(result);\r\n      }\r\n    } catch (err) {\r\n      console.error(\"Error generating summary:\", err);\r\n      setError('Failed to generate response. Please try again.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch 1-day chart data\r\n  const fetchChartData = async (stockSymbol) => {\r\n    try {\r\n      // First try Finnhub\r\n      try {\r\n        const to = Math.floor(Date.now() / 1000);\r\n        const from = to - (24 * 60 * 60);\r\n        const resolution = '5';\r\n        \r\n        const response = await axios.get(\r\n          `https://finnhub.io/api/v1/stock/candle?symbol=${stockSymbol}&resolution=${resolution}&from=${from}&to=${to}&token=${FINNHUB_API_KEY}`\r\n        );\r\n        \r\n        const data = response.data;\r\n        \r\n        if (data.s === 'ok' && data.c?.length > 0) {\r\n          const chartLabels = data.t.map(timestamp => \r\n            new Date(timestamp * 1000).toLocaleTimeString()\r\n          );\r\n          \r\n          const chartData = {\r\n            labels: chartLabels,\r\n            datasets: [\r\n              {\r\n                label: `${stockSymbol} Price`,\r\n                data: data.c,\r\n                borderColor: '#3a80e9',\r\n                backgroundColor: 'rgba(58, 128, 233, 0.3)',\r\n                borderWidth: 2,\r\n                tension: 0,\r\n                fill: true\r\n              }\r\n            ]\r\n          };\r\n          \r\n          setChartData(chartData);\r\n          generateChartSummary(stockSymbol, data.c);\r\n          return;\r\n        }\r\n      } catch (finnhubError) {\r\n        console.log('Finnhub failed, trying Yahoo Finance...');\r\n      }\r\n      \r\n      // Fallback to Yahoo Finance\r\n      try {\r\n        const response = await axios.get(\r\n          `https://query1.finance.yahoo.com/v8/finance/chart/${stockSymbol}?range=1d&interval=5m`\r\n        );\r\n        \r\n        if (response.data.chart?.result?.[0]) {\r\n          const result = response.data.chart.result[0];\r\n          const timestamps = result.timestamp;\r\n          const quotes = result.indicators.quote[0].close;\r\n          \r\n          const chartLabels = timestamps.map(timestamp => \r\n            new Date(timestamp * 1000).toLocaleTimeString()\r\n          );\r\n          \r\n          setChartData({\r\n            labels: chartLabels,\r\n            datasets: [\r\n              {\r\n                label: `${stockSymbol} Price`,\r\n                data: quotes,\r\n                borderColor: '#3a80e9',\r\n                backgroundColor: 'rgba(58, 128, 233, 0.3)',\r\n                borderWidth: 2,\r\n                tension: 0,\r\n                fill: true\r\n              }\r\n            ]\r\n          });\r\n          generateChartSummary(stockSymbol, quotes);\r\n        }\r\n      } catch (yahooError) {\r\n        console.error('Failed to fetch chart data:', yahooError);\r\n      }\r\n    } catch (err) {\r\n      console.error('Error fetching chart data:', err);\r\n    }\r\n  };\r\n\r\n  // Generate AI summary of the chart\r\n  const generateChartSummary = async (stockSymbol, priceData) => {\r\n    try {\r\n      if (!priceData || priceData.length === 0) return;\r\n      \r\n      const openPrice = priceData[0];\r\n      const currentPrice = priceData[priceData.length - 1];\r\n      const highPrice = Math.max(...priceData);\r\n      const lowPrice = Math.min(...priceData);\r\n      const change = currentPrice - openPrice;\r\n      const percentChange = (change / openPrice) * 100;\r\n      \r\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\r\n        model: \"openai/gpt-3.5-turbo\",\r\n        messages: [\r\n          { \r\n            \"role\": \"system\", \r\n            \"content\": \"You are a financial analyst providing concise technical analysis of stock charts.\" \r\n          },\r\n          { \r\n            \"role\": \"user\", \r\n            \"content\": `Provide a brief (2-3 sentence) technical summary of ${stockSymbol}'s trading today. \r\n                        Open: $${openPrice.toFixed(2)}, Current: $${currentPrice.toFixed(2)}, \r\n                        High: $${highPrice.toFixed(2)}, Low: $${lowPrice.toFixed(2)}, \r\n                        Change: ${change >= 0 ? '+' : ''}${change.toFixed(2)} (${percentChange >= 0 ? '+' : ''}${percentChange.toFixed(2)}%). \r\n                        Focus on key price action and trends.`\r\n          }\r\n        ],\r\n        max_tokens: 200\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      setChartSummary(response.data.choices[0].message.content);\r\n    } catch (err) {\r\n      console.error(\"Error generating chart summary:\", err);\r\n    }\r\n  };\r\n\r\n  // Fetch market news\r\n  const fetchStockNews = async (stockSymbol) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://finnhub.io/api/v1/company-news?symbol=${stockSymbol}&from=${new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}&to=${new Date().toISOString().split('T')[0]}&token=${FINNHUB_API_KEY}`\r\n      );\r\n      \r\n      // Filter for relevant news (some APIs return many unrelated articles)\r\n      const filteredNews = response.data\r\n        .filter(item => item.headline && item.headline.toLowerCase().includes(stockSymbol.toLowerCase()))\r\n        .slice(0, 5); // Limit to 5 most recent\r\n      \r\n      setNews(filteredNews);\r\n      generateNewsSummary(stockSymbol, filteredNews);\r\n    } catch (err) {\r\n      console.error(\"Error fetching news:\", err);\r\n    }\r\n  };\r\n\r\n  // Generate AI summary of the news\r\n  const generateNewsSummary = async (stockSymbol, newsItems) => {\r\n    try {\r\n      if (!newsItems || newsItems.length === 0) return;\r\n      \r\n      const headlines = newsItems.map(item => item.headline).join('\\n- ');\r\n      \r\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\r\n        model: \"openai/gpt-3.5-turbo\",\r\n        messages: [\r\n          { \r\n            \"role\": \"system\", \r\n            \"content\": \"You are a financial news analyst that summarizes recent market news about stocks.\" \r\n          },\r\n          { \r\n            \"role\": \"user\", \r\n            \"content\": `Provide a concise 3-4 sentence summary of the key recent news about ${stockSymbol} based on these headlines:\r\n                        - ${headlines}\r\n                        \r\n                        Focus on the most impactful developments and overall sentiment.`\r\n          }\r\n        ],\r\n        max_tokens: 300\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      setNewsSummary(response.data.choices[0].message.content);\r\n    } catch (err) {\r\n      console.error(\"Error generating news summary:\", err);\r\n    }\r\n  };\r\n\r\n  // Load all data when symbol changes\r\n  useEffect(() => {\r\n    if (symbol) {\r\n      setLoading(true);\r\n      fetchStockSummary(symbol);\r\n      fetchChartData(symbol);\r\n      fetchStockNews(symbol);\r\n    }\r\n  }, [symbol]);\r\n\r\n  const handleQuerySubmit = (e) => {\r\n    e.preventDefault();\r\n    if (query.trim() && symbol) {\r\n      fetchStockSummary(symbol, query);\r\n      setQuery('');\r\n    }\r\n  };\r\n\r\n  const handleStockSearch = (e) => {\r\n    e.preventDefault();\r\n    if (stockSearch.trim()) {\r\n      navigate(`/ai-summary/${stockSearch.trim().toUpperCase()}`);\r\n    }\r\n  };\r\n\r\n  // Chart options\r\n  const chartOptions = {\r\n    responsive: true,\r\n    plugins: {\r\n      legend: {\r\n        display: false,\r\n      },\r\n      tooltip: {\r\n        mode: 'index',\r\n        intersect: false,\r\n        callbacks: {\r\n          label: function(context) {\r\n            return `${context.dataset.label}: $${context.parsed.y.toFixed(2)}`;\r\n          }\r\n        }\r\n      }\r\n    },\r\n    scales: {\r\n      y: {\r\n        beginAtZero: false,\r\n        ticks: {\r\n          callback: function(value) {\r\n            return '$' + value.toFixed(2);\r\n          }\r\n        }\r\n      },\r\n      x: {\r\n        grid: {\r\n          display: false\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  // If no symbol is selected\r\n  if (!symbol) {\r\n    return (\r\n      <div className=\"ai-summary-container\">\r\n        <div className=\"ai-summary-header\">\r\n          <h2>Stock Analysis Tool</h2>\r\n        </div>\r\n\r\n        <div className=\"primary-search-section\">\r\n          <form onSubmit={handleStockSearch} className=\"primary-search-form\">\r\n            <input\r\n              type=\"text\"\r\n              value={stockSearch}\r\n              onChange={(e) => setStockSearch(e.target.value)}\r\n              placeholder=\"Enter a stock symbol (e.g., AAPL, MSFT)\"\r\n              className=\"primary-search-input\"\r\n              autoFocus\r\n            />\r\n            <button type=\"submit\" className=\"primary-search-button\">\r\n              Analyze Stock\r\n            </button>\r\n          </form>\r\n          <p className=\"search-examples\">\r\n            Try: AAPL, MSFT, TSLA, GOOGL, AMZN\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"welcome-message\">\r\n          <h3>Welcome to Stock Analysis AI</h3>\r\n          <p>\r\n            Get comprehensive AI-powered analysis of any publicly traded company.\r\n            Enter a stock symbol above to begin.\r\n          </p>\r\n          <div className=\"features\">\r\n            <h4>Features:</h4>\r\n            <ul>\r\n              <li>Detailed company overview and financial metrics</li>\r\n              <li>Recent performance analysis</li>\r\n              <li>1-day price chart with technical summary</li>\r\n              <li>Latest market news with sentiment analysis</li>\r\n              <li>Ability to ask specific questions about any stock</li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"ai-summary-container\">\r\n      <div className=\"ai-summary-header\">\r\n        <h2>{symbol} Stock Analysis</h2>\r\n        <button onClick={() => navigate('/ai-summary')} className=\"back-button\">\r\n          Analyze Another Stock\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"search-section\">\r\n        <form onSubmit={handleQuerySubmit} className=\"query-form\">\r\n          <input\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={(e) => setQuery(e.target.value)}\r\n            placeholder={`Ask anything about ${symbol}...`}\r\n            className=\"query-input\"\r\n          />\r\n          <button type=\"submit\" className=\"query-button\">\r\n            Ask\r\n          </button>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"tabs\">\r\n        <button \r\n          className={`tab-button ${activeTab === 'analysis' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('analysis')}\r\n        >\r\n          AI Analysis\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'chart' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('chart')}\r\n        >\r\n          Price Chart\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'news' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('news')}\r\n        >\r\n          Market News\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"ai-summary-content\">\r\n        {loading ? (\r\n          <div className=\"loading-spinner\">\r\n            <div className=\"spinner\"></div>\r\n            <p>Generating AI-powered analysis...</p>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"error-message\">\r\n            <p>{error}</p>\r\n            <button onClick={() => window.location.reload()} className=\"retry-button\">\r\n              Retry\r\n            </button>\r\n          </div>\r\n        ) : isCustomQuery ? (\r\n          <div className=\"query-result\">\r\n            <h3>Response to your query:</h3>\r\n            <div className=\"result-text\">\r\n              {customQueryResult.split('\\n').map((paragraph, i) => (\r\n                <p key={i}>{paragraph}</p>\r\n              ))}\r\n            </div>\r\n            <button \r\n              onClick={() => setIsCustomQuery(false)} \r\n              className=\"show-original-button\"\r\n            >\r\n              Show Full Analysis\r\n            </button>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {activeTab === 'analysis' && (\r\n              <div className=\"summary-section\">\r\n                <h3>Comprehensive Analysis of {symbol}</h3>\r\n                <div className=\"summary-text\">\r\n                  {summary.split('\\n').map((paragraph, i) => (\r\n                    <p key={i}>{paragraph}</p>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'chart' && chartData && (\r\n              <div className=\"chart-section\">\r\n                <h3>{symbol} Today's Price Action</h3>\r\n                <div className=\"chart-container\">\r\n                  <Line data={chartData} options={chartOptions} />\r\n                </div>\r\n                {chartSummary && (\r\n                  <div className=\"chart-summary\">\r\n                    <h4>Technical Summary:</h4>\r\n                    <p>{chartSummary}</p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n\r\n            {activeTab === 'news' && (\r\n              <div className=\"news-section\">\r\n                <h3>Latest News About {symbol}</h3>\r\n                {newsSummary && (\r\n                  <div className=\"news-summary\">\r\n                    <h4>News Summary:</h4>\r\n                    <p>{newsSummary}</p>\r\n                  </div>\r\n                )}\r\n                <div className=\"news-list\">\r\n                  {news.length > 0 ? (\r\n                    news.map((item, index) => (\r\n                      <div key={index} className=\"news-item\">\r\n                        <h4>\r\n                          <a href={item.url} target=\"_blank\" rel=\"noopener noreferrer\">\r\n                            {item.headline}\r\n                          </a>\r\n                        </h4>\r\n                        <p className=\"news-source\">{item.source} - {new Date(item.datetime * 1000).toLocaleDateString()}</p>\r\n                        <p className=\"news-summary\">{item.summary || 'No summary available'}</p>\r\n                      </div>\r\n                    ))\r\n                  ) : (\r\n                    <p>No recent news found for {symbol}</p>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AISummary;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
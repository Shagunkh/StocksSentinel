{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shagun Khandelwal\\\\zerodha\\\\client\\\\src\\\\components\\\\Watchlist\\\\Watchlist.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport './Watchlist.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Watchlist = () => {\n  _s();\n  // Get a valid API key from https://finnhub.io\n  const FINNHUB_API_KEY = 'your_valid_api_key_here'; // Replace with actual key\n\n  // Initial data\n  const [stocks, setStocks] = useState([{\n    symbol: 'AMZN',\n    price: 175.50,\n    change: 2.30\n  }, {\n    symbol: 'MSFT',\n    price: 420.72,\n    change: -1.25\n  }]);\n  const [indices, setIndices] = useState([{\n    name: 'NIFTY 50',\n    value: 22336.40,\n    change: 0.37,\n    changePercent: 0.37\n  }, {\n    name: 'SENSEX',\n    value: 73511.85,\n    change: 1.41,\n    changePercent: 1.41\n  }]);\n  const [error, setError] = useState(null);\n  const [isConnected, setIsConnected] = useState(false);\n  const ws = useRef(null);\n\n  // Improved WebSocket connection\n  const connectWebSocket = () => {\n    // Validate API key first\n    if (!FINNHUB_API_KEY || FINNHUB_API_KEY.length !== 32) {\n      setError('Invalid API key configuration');\n      fetchInitialData(); // Fallback immediately\n      return;\n    }\n    try {\n      ws.current = new WebSocket(`wss://ws.finnhub.io?token=${FINNHUB_API_KEY}`);\n      ws.current.onopen = () => {\n        console.log('WebSocket connected');\n        setIsConnected(true);\n\n        // Subscribe to symbols\n        const symbols = [...stocks.map(stock => stock.symbol), '^NSEI',\n        // NIFTY 50\n        '^BSESN' // SENSEX\n        ];\n        symbols.forEach(symbol => {\n          ws.current.send(JSON.stringify({\n            type: 'subscribe',\n            symbol\n          }));\n        });\n      };\n      ws.current.onmessage = e => {\n        try {\n          const data = JSON.parse(e.data);\n          if (data.type === 'trade' && data.p) {\n            updateData(data);\n          }\n        } catch (err) {\n          console.error('Message parsing error:', err);\n        }\n      };\n      ws.current.onerror = err => {\n        console.error('WebSocket error:', err);\n        setError('Realtime connection issue');\n        setIsConnected(false);\n        fetchInitialData(); // Immediate fallback\n      };\n      ws.current.onclose = () => {\n        setIsConnected(false);\n        setError('Connection closed. Using API fallback.');\n        fetchInitialData();\n      };\n    } catch (err) {\n      console.error('WebSocket init error:', err);\n      setError('WebSocket failed. Using API fallback.');\n      fetchInitialData();\n    }\n  };\n\n  // REST API fallback\n  const fetchInitialData = async () => {\n    try {\n      // Fetch stock data\n      const stockPromises = stocks.map(stock => fetch(`https://finnhub.io/api/v1/quote?symbol=${stock.symbol}&token=${FINNHUB_API_KEY}`).then(res => res.ok ? res.json() : Promise.reject('API error')).catch(() => null) // Silently fail individual requests\n      );\n\n      // Fetch index data\n      const indexPromises = [fetch(`https://finnhub.io/api/v1/quote?symbol=^NSEI&token=${FINNHUB_API_KEY}`).then(res => res.ok ? res.json() : Promise.reject('NIFTY error')), fetch(`https://finnhub.io/api/v1/quote?symbol=^BSESN&token=${FINNHUB_API_KEY}`).then(res => res.ok ? res.json() : Promise.reject('SENSEX error'))];\n      const [stockResults, niftyData, sensexData] = await Promise.all([Promise.all(stockPromises), indexPromises[0].catch(() => null), indexPromises[1].catch(() => null)]);\n\n      // Update stocks\n      setStocks(prev => prev.map((stock, i) => {\n        var _stockResults$i, _stockResults$i2, _stockResults$i3;\n        return {\n          ...stock,\n          price: ((_stockResults$i = stockResults[i]) === null || _stockResults$i === void 0 ? void 0 : _stockResults$i.c) || stock.price,\n          change: parseFloat((((_stockResults$i2 = stockResults[i]) === null || _stockResults$i2 === void 0 ? void 0 : _stockResults$i2.c) || stock.price) - (((_stockResults$i3 = stockResults[i]) === null || _stockResults$i3 === void 0 ? void 0 : _stockResults$i3.pc) || stock.price - stock.change)).toFixed(2)\n        };\n      }));\n\n      // Update indices\n      setIndices([{\n        name: 'NIFTY 50',\n        value: (niftyData === null || niftyData === void 0 ? void 0 : niftyData.c) || indices[0].value,\n        change: niftyData ? parseFloat((niftyData.c - niftyData.pc).toFixed(2)) : indices[0].change,\n        changePercent: niftyData ? parseFloat(((niftyData.c - niftyData.pc) / niftyData.pc * 100).toFixed(2)) : indices[0].changePercent\n      }, {\n        name: 'SENSEX',\n        value: (sensexData === null || sensexData === void 0 ? void 0 : sensexData.c) || indices[1].value,\n        change: sensexData ? parseFloat((sensexData.c - sensexData.pc).toFixed(2)) : indices[1].change,\n        changePercent: sensexData ? parseFloat(((sensexData.c - sensexData.pc) / sensexData.pc * 100).toFixed(2)) : indices[1].changePercent\n      }]);\n    } catch (err) {\n      console.error('API fallback failed:', err);\n      setError('Unable to fetch latest data. Using cached values.');\n    }\n  };\n  useEffect(() => {\n    connectWebSocket();\n    return () => {\n      if (ws.current) {\n        ws.current.close();\n      }\n    };\n  }, []);\n  const formatNumber = num => {\n    if (num === undefined || num === null || isNaN(num)) {\n      return 'N/A';\n    }\n    return num.toLocaleString('en-IN', {\n      minimumFractionDigits: 2,\n      maximumFractionDigits: 2\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"watchlist\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"connection-status\",\n      children: [isConnected ? 'ðŸŸ¢ Live' : 'ðŸ”´ Disconnected', error && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"error-message\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"market-indices\",\n      children: indices.map((index, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"index-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"index-name\",\n          children: index.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"index-value\",\n          children: formatNumber(index.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `index-change ${index.change >= 0 ? 'positive' : 'negative'}`,\n          children: [index.change >= 0 ? '+' : '', formatNumber(index.change), \" (\", formatNumber(index.changePercent), \"%)\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"stock-list\",\n      children: stocks.map((stock, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"stock-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stock-symbol\",\n          children: stock.symbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"stock-price\",\n          children: formatNumber(stock.price)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `stock-change ${stock.change >= 0 ? 'positive' : 'negative'}`,\n          children: [stock.change >= 0 ? '+' : '', formatNumber(stock.change)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(Watchlist, \"H9q0wN9YztUnnnVxAP7hQvJNfZk=\");\n_c = Watchlist;\nexport default Watchlist;\nvar _c;\n$RefreshReg$(_c, \"Watchlist\");","map":{"version":3,"names":["React","useState","useEffect","useRef","jsxDEV","_jsxDEV","Watchlist","_s","FINNHUB_API_KEY","stocks","setStocks","symbol","price","change","indices","setIndices","name","value","changePercent","error","setError","isConnected","setIsConnected","ws","connectWebSocket","length","fetchInitialData","current","WebSocket","onopen","console","log","symbols","map","stock","forEach","send","JSON","stringify","type","onmessage","e","data","parse","p","updateData","err","onerror","onclose","stockPromises","fetch","then","res","ok","json","Promise","reject","catch","indexPromises","stockResults","niftyData","sensexData","all","prev","i","_stockResults$i","_stockResults$i2","_stockResults$i3","c","parseFloat","pc","toFixed","close","formatNumber","num","undefined","isNaN","toLocaleString","minimumFractionDigits","maximumFractionDigits","className","children","fileName","_jsxFileName","lineNumber","columnNumber","index","_c","$RefreshReg$"],"sources":["C:/Users/Shagun Khandelwal/zerodha/client/src/components/Watchlist/Watchlist.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\r\nimport './Watchlist.css';\r\n\r\nconst Watchlist = () => {\r\n  // Get a valid API key from https://finnhub.io\r\n  const FINNHUB_API_KEY = 'your_valid_api_key_here'; // Replace with actual key\r\n  \r\n  // Initial data\r\n  const [stocks, setStocks] = useState([\r\n    { symbol: 'AMZN', price: 175.50, change: 2.30 },\r\n    { symbol: 'MSFT', price: 420.72, change: -1.25 }\r\n  ]);\r\n\r\n  const [indices, setIndices] = useState([\r\n    { name: 'NIFTY 50', value: 22336.40, change: 0.37, changePercent: 0.37 },\r\n    { name: 'SENSEX', value: 73511.85, change: 1.41, changePercent: 1.41 }\r\n  ]);\r\n\r\n  const [error, setError] = useState(null);\r\n  const [isConnected, setIsConnected] = useState(false);\r\n  const ws = useRef(null);\r\n\r\n  // Improved WebSocket connection\r\n  const connectWebSocket = () => {\r\n    // Validate API key first\r\n    if (!FINNHUB_API_KEY || FINNHUB_API_KEY.length !== 32) {\r\n      setError('Invalid API key configuration');\r\n      fetchInitialData(); // Fallback immediately\r\n      return;\r\n    }\r\n\r\n    try {\r\n      ws.current = new WebSocket(`wss://ws.finnhub.io?token=${FINNHUB_API_KEY}`);\r\n\r\n      ws.current.onopen = () => {\r\n        console.log('WebSocket connected');\r\n        setIsConnected(true);\r\n        \r\n        // Subscribe to symbols\r\n        const symbols = [\r\n          ...stocks.map(stock => stock.symbol),\r\n          '^NSEI', // NIFTY 50\r\n          '^BSESN' // SENSEX\r\n        ];\r\n        \r\n        symbols.forEach(symbol => {\r\n          ws.current.send(JSON.stringify({ type: 'subscribe', symbol }));\r\n        });\r\n      };\r\n\r\n      ws.current.onmessage = (e) => {\r\n        try {\r\n          const data = JSON.parse(e.data);\r\n          if (data.type === 'trade' && data.p) {\r\n            updateData(data);\r\n          }\r\n        } catch (err) {\r\n          console.error('Message parsing error:', err);\r\n        }\r\n      };\r\n\r\n      ws.current.onerror = (err) => {\r\n        console.error('WebSocket error:', err);\r\n        setError('Realtime connection issue');\r\n        setIsConnected(false);\r\n        fetchInitialData(); // Immediate fallback\r\n      };\r\n\r\n      ws.current.onclose = () => {\r\n        setIsConnected(false);\r\n        setError('Connection closed. Using API fallback.');\r\n        fetchInitialData();\r\n      };\r\n\r\n    } catch (err) {\r\n      console.error('WebSocket init error:', err);\r\n      setError('WebSocket failed. Using API fallback.');\r\n      fetchInitialData();\r\n    }\r\n  };\r\n\r\n  // REST API fallback\r\n  const fetchInitialData = async () => {\r\n    try {\r\n      // Fetch stock data\r\n      const stockPromises = stocks.map(stock => \r\n        fetch(`https://finnhub.io/api/v1/quote?symbol=${stock.symbol}&token=${FINNHUB_API_KEY}`)\r\n          .then(res => res.ok ? res.json() : Promise.reject('API error'))\r\n          .catch(() => null) // Silently fail individual requests\r\n      );\r\n      \r\n      // Fetch index data\r\n      const indexPromises = [\r\n        fetch(`https://finnhub.io/api/v1/quote?symbol=^NSEI&token=${FINNHUB_API_KEY}`)\r\n          .then(res => res.ok ? res.json() : Promise.reject('NIFTY error')),\r\n        fetch(`https://finnhub.io/api/v1/quote?symbol=^BSESN&token=${FINNHUB_API_KEY}`)\r\n          .then(res => res.ok ? res.json() : Promise.reject('SENSEX error'))\r\n      ];\r\n\r\n      const [stockResults, niftyData, sensexData] = await Promise.all([\r\n        Promise.all(stockPromises),\r\n        indexPromises[0].catch(() => null),\r\n        indexPromises[1].catch(() => null)\r\n      ]);\r\n\r\n      // Update stocks\r\n      setStocks(prev => prev.map((stock, i) => ({\r\n        ...stock,\r\n        price: stockResults[i]?.c || stock.price,\r\n        change: parseFloat(((stockResults[i]?.c || stock.price)) - (stockResults[i]?.pc || (stock.price - stock.change))).toFixed(2)\r\n      })));\r\n\r\n      // Update indices\r\n      setIndices([\r\n        { \r\n          name: 'NIFTY 50',\r\n          value: niftyData?.c || indices[0].value,\r\n          change: niftyData ? parseFloat((niftyData.c - niftyData.pc).toFixed(2)) : indices[0].change,\r\n          changePercent: niftyData ? parseFloat(((niftyData.c - niftyData.pc) / niftyData.pc * 100).toFixed(2)) : indices[0].changePercent\r\n        },\r\n        { \r\n          name: 'SENSEX',\r\n          value: sensexData?.c || indices[1].value,\r\n          change: sensexData ? parseFloat((sensexData.c - sensexData.pc).toFixed(2)) : indices[1].change,\r\n          changePercent: sensexData ? parseFloat(((sensexData.c - sensexData.pc) / sensexData.pc * 100).toFixed(2)) : indices[1].changePercent\r\n        }\r\n      ]);\r\n\r\n    } catch (err) {\r\n      console.error('API fallback failed:', err);\r\n      setError('Unable to fetch latest data. Using cached values.');\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    connectWebSocket();\r\n    \r\n    return () => {\r\n      if (ws.current) {\r\n        ws.current.close();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const formatNumber = (num) => {\r\n    if (num === undefined || num === null || isNaN(num)) {\r\n      return 'N/A';\r\n    }\r\n    return num.toLocaleString('en-IN', { \r\n      minimumFractionDigits: 2,\r\n      maximumFractionDigits: 2 \r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"watchlist\">\r\n      <div className=\"connection-status\">\r\n        {isConnected ? 'ðŸŸ¢ Live' : 'ðŸ”´ Disconnected'}\r\n        {error && <span className=\"error-message\">{error}</span>}\r\n      </div>\r\n\r\n      {/* Indices */}\r\n      <div className=\"market-indices\">\r\n        {indices.map((index, i) => (\r\n          <div key={i} className=\"index-card\">\r\n            <div className=\"index-name\">{index.name}</div>\r\n            <div className=\"index-value\">{formatNumber(index.value)}</div>\r\n            <div className={`index-change ${index.change >= 0 ? 'positive' : 'negative'}`}>\r\n              {index.change >= 0 ? '+' : ''}{formatNumber(index.change)} ({formatNumber(index.changePercent)}%)\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Stocks */}\r\n      <div className=\"stock-list\">\r\n        {stocks.map((stock, i) => (\r\n          <div key={i} className=\"stock-row\">\r\n            <div className=\"stock-symbol\">{stock.symbol}</div>\r\n            <div className=\"stock-price\">{formatNumber(stock.price)}</div>\r\n            <div className={`stock-change ${stock.change >= 0 ? 'positive' : 'negative'}`}>\r\n              {stock.change >= 0 ? '+' : ''}{formatNumber(stock.change)}\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Watchlist;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
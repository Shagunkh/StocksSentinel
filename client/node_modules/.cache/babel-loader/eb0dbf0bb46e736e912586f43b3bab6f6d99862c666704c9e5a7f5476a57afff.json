{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shagun Khandelwal\\\\zerodha\\\\client\\\\src\\\\components\\\\AIPrediction\\\\AIPrediction.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport './AIPrediction.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AIPrediction = () => {\n  _s();\n  const {\n    symbol\n  } = useParams();\n  const navigate = useNavigate();\n  const [prediction, setPrediction] = useState(null);\n  const [sentiment, setSentiment] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [news, setNews] = useState([]);\n  const [priceData, setPriceData] = useState(null);\n  const [technicalIndicators, setTechnicalIndicators] = useState(null);\n  const [marketSentiment, setMarketSentiment] = useState(null);\n\n  // API Keys (consider moving these to environment variables)\n  const FINNHUB_API_KEY = 'd1aopp9r01qjhvtqeebgd1aopp9r01qjhvtqeec0';\n  const OPENROUTER_API_KEY = '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';\n  const ALPHA_VANTAGE_KEY = 'OH0ZQBRUAB4ABC4X';\n  const POLYGON_API_KEY = 'u1J9Q2zN_6UZx7hLkXvTdKtCIBYKZJxW';\n  const TWELVE_DATA_KEY = 'a6b5a5b5f1e14a9d9b5b5b5b5b5b5b5b';\n\n  // Clean AI response by removing markdown and formatting\n  const cleanPredictionText = text => {\n    return text.replace(/^#+\\s*/gm, '') // Remove markdown headers\n    .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove bold markdown\n    .replace(/\\[(.*?)\\]\\(.*?\\)/g, '$1') // Remove markdown links\n    .split('\\n').filter(line => line.trim() !== '') // Remove empty lines\n    .map(line => line.trim());\n  };\n\n  // Fetch technical indicators from multiple sources\n  const fetchTechnicalIndicators = async symbol => {\n    try {\n      var _alphaResponse$data, _alphaResponse$data$T, _twelveResponse$data, _twelveResponse$data$, _twelveResponse$data$2;\n      // Fetch from Alpha Vantage\n      const alphaResponse = await axios.get(`https://www.alphavantage.co/query?function=RSI&symbol=${symbol}&interval=daily&time_period=14&series_type=close&apikey=${ALPHA_VANTAGE_KEY}`);\n\n      // Fetch from Twelve Data (fallback)\n      const twelveResponse = await axios.get(`https://api.twelvedata.com/rsi?symbol=${symbol}&interval=1day&outputsize=30&apikey=${TWELVE_DATA_KEY}`);\n\n      // Process indicators\n      const indicators = {\n        rsi: ((_alphaResponse$data = alphaResponse.data) === null || _alphaResponse$data === void 0 ? void 0 : (_alphaResponse$data$T = _alphaResponse$data.TechnicalAnalysis) === null || _alphaResponse$data$T === void 0 ? void 0 : _alphaResponse$data$T.RSI) || ((_twelveResponse$data = twelveResponse.data) === null || _twelveResponse$data === void 0 ? void 0 : (_twelveResponse$data$ = _twelveResponse$data.values) === null || _twelveResponse$data$ === void 0 ? void 0 : (_twelveResponse$data$2 = _twelveResponse$data$[0]) === null || _twelveResponse$data$2 === void 0 ? void 0 : _twelveResponse$data$2.rsi) || null\n        // Add more indicators as needed\n      };\n      setTechnicalIndicators(indicators);\n      return indicators;\n    } catch (err) {\n      console.error(\"Error fetching technical indicators:\", err);\n      return null;\n    }\n  };\n\n  // Fetch broader market sentiment\n  const fetchMarketSentiment = async () => {\n    try {\n      var _fgiResponse$data, _fgiResponse$data$dat, _fgiResponse$data$dat2, _indicesResponse$data, _indicesResponse$data2, _indicesResponse$data3, _indicesResponse$data4, _indicesResponse$data5, _indicesResponse$data6, _indicesResponse$data7, _indicesResponse$data8, _indicesResponse$data9;\n      // Fetch fear and greed index\n      const fgiResponse = await axios.get('https://api.alternative.me/fng/?limit=1');\n\n      // Fetch major indices performance\n      const indicesResponse = await axios.get(`https://www.alphavantage.co/query?function=BATCH_STOCK_QUOTES&symbols=SPY,QQQ,DIA&apikey=${ALPHA_VANTAGE_KEY}`);\n      const sentimentData = {\n        fearGreedIndex: ((_fgiResponse$data = fgiResponse.data) === null || _fgiResponse$data === void 0 ? void 0 : (_fgiResponse$data$dat = _fgiResponse$data.data) === null || _fgiResponse$data$dat === void 0 ? void 0 : (_fgiResponse$data$dat2 = _fgiResponse$data$dat[0]) === null || _fgiResponse$data$dat2 === void 0 ? void 0 : _fgiResponse$data$dat2.value) || null,\n        spyChange: ((_indicesResponse$data = indicesResponse.data) === null || _indicesResponse$data === void 0 ? void 0 : (_indicesResponse$data2 = _indicesResponse$data.StockQuotes) === null || _indicesResponse$data2 === void 0 ? void 0 : (_indicesResponse$data3 = _indicesResponse$data2[0]) === null || _indicesResponse$data3 === void 0 ? void 0 : _indicesResponse$data3.change) || null,\n        qqqChange: ((_indicesResponse$data4 = indicesResponse.data) === null || _indicesResponse$data4 === void 0 ? void 0 : (_indicesResponse$data5 = _indicesResponse$data4.StockQuotes) === null || _indicesResponse$data5 === void 0 ? void 0 : (_indicesResponse$data6 = _indicesResponse$data5[1]) === null || _indicesResponse$data6 === void 0 ? void 0 : _indicesResponse$data6.change) || null,\n        diaChange: ((_indicesResponse$data7 = indicesResponse.data) === null || _indicesResponse$data7 === void 0 ? void 0 : (_indicesResponse$data8 = _indicesResponse$data7.StockQuotes) === null || _indicesResponse$data8 === void 0 ? void 0 : (_indicesResponse$data9 = _indicesResponse$data8[2]) === null || _indicesResponse$data9 === void 0 ? void 0 : _indicesResponse$data9.change) || null\n      };\n      setMarketSentiment(sentimentData);\n      return sentimentData;\n    } catch (err) {\n      console.error(\"Error fetching market sentiment:\", err);\n      return null;\n    }\n  };\n\n  // Enhanced sentiment analysis with NLP techniques\n  const calculateEnhancedSentiment = (priceChange, newsItems, technicalIndicators, marketSentiment) => {\n    // Base sentiment from price change (-1 to 1)\n    const priceChangeNum = parseFloat(priceChange) || 0;\n    let sentimentScore = Math.min(1, Math.max(-1, priceChangeNum / 5));\n\n    // Technical indicators influence\n    if (technicalIndicators !== null && technicalIndicators !== void 0 && technicalIndicators.rsi) {\n      const rsi = parseFloat(technicalIndicators.rsi);\n      // RSI between 30-70 is neutral, below 30 is oversold (bullish), above 70 is overbought (bearish)\n      const rsiInfluence = rsi < 30 ? 0.2 : rsi > 70 ? -0.2 : 0;\n      sentimentScore += rsiInfluence;\n    }\n\n    // Market sentiment influence\n    if (marketSentiment) {\n      // Fear and greed index (0-100, 0=extreme fear, 100=extreme greed)\n      const fgi = parseFloat(marketSentiment.fearGreedIndex) || 50;\n      const fgiInfluence = (fgi - 50) / 100; // Normalize to -0.5 to 0.5\n      sentimentScore += fgiInfluence * 0.3;\n\n      // Major indices performance\n      const spyChange = parseFloat(marketSentiment.spyChange) || 0;\n      const qqqChange = parseFloat(marketSentiment.qqqChange) || 0;\n      const diaChange = parseFloat(marketSentiment.diaChange) || 0;\n      const marketPerformance = (spyChange + qqqChange + diaChange) / 3;\n      sentimentScore += marketPerformance / 10;\n    }\n\n    // Enhanced news analysis with more sophisticated NLP\n    if (newsItems && newsItems.length > 0) {\n      let newsSentiment = 0;\n      const sentimentWords = {\n        positive: ['up', 'rise', 'gain', 'strong', 'beat', 'bullish', 'buy', 'outperform', 'positive', 'growth'],\n        negative: ['down', 'fall', 'drop', 'weak', 'miss', 'bearish', 'sell', 'underperform', 'negative', 'decline'],\n        strongPositive: ['surge', 'soar', 'rocket', 'record high', 'breakout', 'upgrade'],\n        strongNegative: ['plunge', 'crash', 'collapse', 'record low', 'downgrade', 'bankrupt']\n      };\n      newsItems.forEach(item => {\n        const headline = item.headline.toLowerCase();\n        const summary = (item.summary || '').toLowerCase();\n\n        // Check for sentiment words with different weights\n        sentimentWords.strongPositive.forEach(word => {\n          if (headline.includes(word) || summary.includes(word)) {\n            newsSentiment += 0.3;\n          }\n        });\n        sentimentWords.positive.forEach(word => {\n          if (headline.includes(word) || summary.includes(word)) {\n            newsSentiment += 0.1;\n          }\n        });\n        sentimentWords.negative.forEach(word => {\n          if (headline.includes(word) || summary.includes(word)) {\n            newsSentiment -= 0.1;\n          }\n        });\n        sentimentWords.strongNegative.forEach(word => {\n          if (headline.includes(word) || summary.includes(word)) {\n            newsSentiment -= 0.3;\n          }\n        });\n\n        // Check for sentiment shifters\n        if (headline.includes('but') || summary.includes('however')) {\n          newsSentiment *= 0.7; // Reduce sentiment impact for contradictory statements\n        }\n        if (headline.includes('!')) {\n          newsSentiment *= 1.2; // Amplify sentiment for emphatic statements\n        }\n      });\n\n      // Average news sentiment and combine with other factors\n      newsSentiment = newsSentiment / newsItems.length;\n      sentimentScore = sentimentScore * 0.5 + newsSentiment * 0.3 + ((technicalIndicators ? 0.1 : 0) + (marketSentiment ? 0.1 : 0));\n    }\n\n    // Normalize between -1 and 1\n    sentimentScore = Math.min(1, Math.max(-1, sentimentScore));\n\n    // Determine sentiment label with more granularity\n    let sentimentLabel;\n    if (sentimentScore > 0.6) {\n      sentimentLabel = 'extremely bullish';\n    } else if (sentimentScore > 0.3) {\n      sentimentLabel = 'strongly bullish';\n    } else if (sentimentScore > 0.1) {\n      sentimentLabel = 'bullish';\n    } else if (sentimentScore < -0.6) {\n      sentimentLabel = 'extremely bearish';\n    } else if (sentimentScore < -0.3) {\n      sentimentLabel = 'strongly bearish';\n    } else if (sentimentScore < -0.1) {\n      sentimentLabel = 'bearish';\n    } else {\n      sentimentLabel = 'neutral';\n    }\n    return {\n      score: sentimentScore.toFixed(2),\n      label: sentimentLabel,\n      confidence: Math.abs(sentimentScore) > 0.5 ? 'high' : Math.abs(sentimentScore) > 0.2 ? 'medium' : 'low'\n    };\n  };\n\n  // Fetch historical data for trend analysis\n  const fetchHistoricalData = async symbol => {\n    try {\n      const response = await axios.get(`https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${symbol}&outputsize=compact&apikey=${ALPHA_VANTAGE_KEY}`);\n      const timeSeries = response.data['Time Series (Daily)'];\n      if (!timeSeries) return null;\n      const dates = Object.keys(timeSeries).sort();\n      const last5Days = dates.slice(0, 5).map(date => ({\n        date,\n        close: parseFloat(timeSeries[date]['4. close'])\n      }));\n\n      // Calculate short-term trend\n      const trend = last5Days[0].close > last5Days[4].close ? 'up' : last5Days[0].close < last5Days[4].close ? 'down' : 'flat';\n      return {\n        last5Days,\n        trend,\n        volume: parseFloat(timeSeries[dates[0]]['5. volume'])\n      };\n    } catch (err) {\n      console.error(\"Error fetching historical data:\", err);\n      return null;\n    }\n  };\n\n  // Generate AI prediction with enhanced data\n  const generateEnhancedPrediction = async stockSymbol => {\n    try {\n      var _historicalData$volum;\n      setLoading(true);\n      setError(null);\n\n      // Step 1: Gather all data from APIs in parallel\n      const [priceResponse, newsResponse, technicalIndicators, marketSentiment, historicalData] = await Promise.all([axios.get(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockSymbol}&apikey=${ALPHA_VANTAGE_KEY}`), axios.get(`https://finnhub.io/api/v1/company-news?symbol=${stockSymbol}&from=${new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString().split('T')[0]}&to=${new Date().toISOString().split('T')[0]}&token=${FINNHUB_API_KEY}`), fetchTechnicalIndicators(stockSymbol), fetchMarketSentiment(), fetchHistoricalData(stockSymbol)]);\n\n      // Process price data\n      const priceData = priceResponse.data['Global Quote'] || {};\n      const priceChange = priceData['10. change percent'] || '0%';\n      setPriceData({\n        current: priceData['05. price'],\n        change: priceData['09. change'],\n        changePercent: priceChange,\n        volume: (historicalData === null || historicalData === void 0 ? void 0 : historicalData.volume) || null\n      });\n\n      // Process news data\n      const recentNews = newsResponse.data.filter(item => item.headline && item.image && item.url).slice(0, 5);\n      setNews(recentNews);\n\n      // Calculate enhanced sentiment\n      const sentimentAnalysis = calculateEnhancedSentiment(priceChange, recentNews, technicalIndicators, marketSentiment);\n      setSentiment(sentimentAnalysis);\n\n      // Prepare comprehensive data for AI\n      const latestNews = recentNews.length > 0 ? recentNews.slice(0, 3).map(item => item.headline).join('\\n- ') : 'No recent news available';\n      const technicalSummary = technicalIndicators ? `RSI: ${technicalIndicators.rsi || 'N/A'}` : 'No technical indicators available';\n      const marketSummary = marketSentiment ? `Market Sentiment: Fear/Greed Index ${marketSentiment.fearGreedIndex || 'N/A'}, \n         SPY: ${marketSentiment.spyChange || 'N/A'}, \n         QQQ: ${marketSentiment.qqqChange || 'N/A'}, \n         DIA: ${marketSentiment.diaChange || 'N/A'}` : 'No market sentiment data available';\n      const historicalSummary = historicalData ? `Recent trend: ${historicalData.trend}, \n         Volume: ${historicalData.volume ? historicalData.volume.toLocaleString() : 'N/A'}` : 'No historical data available';\n\n      // Step 2: Send to AI for enhanced prediction\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\n        model: \"anthropic/claude-3-haiku\",\n        // More advanced model for better analysis\n        messages: [{\n          \"role\": \"system\",\n          \"content\": `You are an advanced stock prediction AI that analyzes multiple data points to forecast stock movements.\n                        Provide a detailed prediction for the next 24 hours including:\n                        - Predicted direction and percentage change with confidence interval\n                        - Key technical factors (RSI, volume, trends)\n                        - Market sentiment context\n                        - News sentiment analysis\n                        - Potential support/resistance levels\n                        - Risk factors to consider\n                        - Trading strategy suggestion (if appropriate)\n                        - Important disclaimer about predictions being speculative\n                        \n                        Format your response with clear sections using markdown headers and bullet points.\n                        Current sentiment: ${sentimentAnalysis.label} (${sentimentAnalysis.score})\n                        Confidence: ${sentimentAnalysis.confidence}`\n        }, {\n          \"role\": \"user\",\n          \"content\": `Generate a comprehensive 24-hour prediction for ${stockSymbol} based on:\n                        - Current price: ${priceData['05. price']}\n                        - Price change: ${priceChange}\n                        - Volume: ${(historicalData === null || historicalData === void 0 ? void 0 : (_historicalData$volum = historicalData.volume) === null || _historicalData$volum === void 0 ? void 0 : _historicalData$volum.toLocaleString()) || 'N/A'}\n                        - Technical indicators: ${technicalSummary}\n                        - Market context: ${marketSummary}\n                        - Recent trend: ${historicalSummary}\n                        - Latest news headlines:\n                          - ${latestNews}`\n        }],\n        max_tokens: 1500\n      }, {\n        headers: {\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      const cleanedPrediction = cleanPredictionText(response.data.choices[0].message.content);\n      setPrediction(cleanedPrediction);\n    } catch (err) {\n      console.error(\"Error generating prediction:\", err);\n      setError('Failed to generate prediction. Please try again later.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch additional market data\n  const fetchStockNews = async stockSymbol => {\n    try {\n      var _polygonNews$data;\n      // Try multiple news sources\n      const [finnhubNews, polygonNews] = await Promise.all([axios.get(`https://finnhub.io/api/v1/company-news?symbol=${stockSymbol}&from=${new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}&to=${new Date().toISOString().split('T')[0]}&token=${FINNHUB_API_KEY}`), axios.get(`https://api.polygon.io/v2/reference/news?ticker=${stockSymbol}&limit=5&apiKey=${POLYGON_API_KEY}`).catch(() => ({\n        data: {\n          results: []\n        }\n      })) // Fallback if fails\n      ]);\n\n      // Combine and filter news\n      const allNews = [...(finnhubNews.data || []), ...(((_polygonNews$data = polygonNews.data) === null || _polygonNews$data === void 0 ? void 0 : _polygonNews$data.results) || [])];\n      const filteredNews = allNews.filter(item => item.headline && (item.image || item.thumbnail_url) && item.url).slice(0, 5).map(item => ({\n        headline: item.headline || item.title,\n        summary: item.summary || item.description,\n        image: item.image || item.thumbnail_url,\n        url: item.url || item.article_url,\n        source: item.source || (item.publisher ? item.publisher.name : 'Unknown'),\n        date: item.datetime || item.published_utc\n      }));\n      setNews(filteredNews);\n    } catch (err) {\n      console.error(\"Error fetching news:\", err);\n    }\n  };\n\n  // Load all data when symbol changes\n  useEffect(() => {\n    if (symbol) {\n      setLoading(true);\n      generateEnhancedPrediction(symbol);\n      fetchStockNews(symbol);\n    }\n  }, [symbol]);\n  if (!symbol) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-prediction-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-icon\",\n          children: \"\\uD83D\\uDCC8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 405,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"No Stock Selected\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Please select a stock symbol to view AI predictions\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/watchlist'),\n          className: \"primary-button\",\n          children: \"Browse Stocks\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 408,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 404,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"ai-prediction-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ai-prediction-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"stock-symbol\",\n          children: symbol.toUpperCase()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 420,\n          columnNumber: 11\n        }, this), priceData && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `price-display ${parseFloat(priceData.change) >= 0 ? 'positive' : 'negative'}`,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"price\",\n            children: [\"$\", priceData.current]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 423,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"change\",\n            children: [parseFloat(priceData.change) >= 0 ? '↑' : '↓', priceData.change, \" (\", priceData.changePercent, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 424,\n            columnNumber: 15\n          }, this), priceData.volume && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"volume\",\n            children: [\"Vol: \", priceData.volume.toLocaleString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 422,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"stock-name\",\n          children: \"Advanced 24-Hour AI Prediction Analysis\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 419,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => navigate(-1),\n        className: \"back-button\",\n        children: \"\\u2190 Back to Watchlist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 418,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-animation\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-bar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 443,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-bar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 444,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"loading-bar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Analyzing comprehensive market data for \", symbol.toUpperCase(), \"...\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 447,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"loading-subtext\",\n        children: \"Fetching price data, news, technical indicators, and market sentiment\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 441,\n      columnNumber: 9\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"error-icon\",\n        children: \"\\u26A0\\uFE0F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Prediction Error\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => window.location.reload(),\n        className: \"primary-button\",\n        children: \"Retry Analysis\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 455,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [prediction && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"prediction-section\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"prediction-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-header\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sentiment-indicator\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `sentiment-dot ${sentiment.label.replace(' ', '-')}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 466,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"sentiment-label\",\n                children: [sentiment.label, \" sentiment (\", sentiment.score, \") - Confidence: \", sentiment.confidence]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 465,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"prediction-title\",\n              children: \"Advanced AI Prediction Analysis\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 471,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prediction-content\",\n            children: prediction.map((line, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"prediction-line\",\n              children: line\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 21\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"prediction-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"disclaimer\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                  children: \"Disclaimer:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 24\n                }, this), \" This AI-generated forecast is for informational purposes only and should not be considered financial advice. Predictions are based on historical data and statistical models which may not account for all market variables. Always conduct your own research before making investment decisions.\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 482,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => generateEnhancedPrediction(symbol),\n              className: \"refresh-button\",\n              children: \"\\u21BB Refresh with Latest Data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 480,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 462,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"data-sections\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"technical-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"section-title\",\n            children: \"Technical Indicators\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 497,\n            columnNumber: 15\n          }, this), technicalIndicators ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"indicators-grid\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"indicator-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"RSI (14-day)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"indicator-value\",\n                children: technicalIndicators.rsi || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 502,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"indicator-analysis\",\n                children: technicalIndicators.rsi > 70 ? 'Overbought' : technicalIndicators.rsi < 30 ? 'Oversold' : 'Neutral'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 503,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-indicators\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No technical indicators available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 511,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 496,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"market-sentiment-section\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"section-title\",\n            children: \"Market Context\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 518,\n            columnNumber: 15\n          }, this), marketSentiment ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"sentiment-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sentiment-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Fear & Greed Index\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 522,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"sentiment-value\",\n                children: marketSentiment.fearGreedIndex || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 523,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"sentiment-label\",\n                children: marketSentiment.fearGreedIndex > 75 ? 'Extreme Greed' : marketSentiment.fearGreedIndex > 55 ? 'Greed' : marketSentiment.fearGreedIndex < 25 ? 'Extreme Fear' : marketSentiment.fearGreedIndex < 45 ? 'Fear' : 'Neutral'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 524,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 521,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sentiment-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"SPY (S&P 500)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 532,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `sentiment-value ${marketSentiment.spyChange >= 0 ? 'positive' : 'negative'}`,\n                children: marketSentiment.spyChange || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 533,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 531,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sentiment-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"QQQ (Nasdaq)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 538,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `sentiment-value ${marketSentiment.qqqChange >= 0 ? 'positive' : 'negative'}`,\n                children: marketSentiment.qqqChange || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 539,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 537,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sentiment-card\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"DIA (Dow Jones)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 544,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `sentiment-value ${marketSentiment.diaChange >= 0 ? 'positive' : 'negative'}`,\n                children: marketSentiment.diaChange || 'N/A'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 545,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 543,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-sentiment\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"No market sentiment data available\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 495,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"news-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"section-title\",\n          children: \"Latest Market News\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 559,\n          columnNumber: 13\n        }, this), news.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"news-grid\",\n          children: news.map((item, index) => /*#__PURE__*/_jsxDEV(\"a\", {\n            href: item.url,\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"news-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"news-image-container\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: item.headline,\n                className: \"news-image\",\n                onError: e => {\n                  e.target.onerror = null;\n                  e.target.src = 'https://via.placeholder.com/300x200?text=No+Image';\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 571,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"news-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"news-headline\",\n                children: item.headline\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"news-meta\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"news-source\",\n                  children: item.source\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 584,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"news-date\",\n                  children: item.date ? new Date(item.date).toLocaleDateString() : 'Recent'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 585,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"news-summary\",\n                children: item.summary || 'Read more...'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 589,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 21\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 563,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 561,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-news\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"No recent news found for \", symbol.toUpperCase()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 595,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 558,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 417,\n    columnNumber: 5\n  }, this);\n};\n_s(AIPrediction, \"lm7SHRXV2+suptCF/KAaGNfIRps=\", false, function () {\n  return [useParams, useNavigate];\n});\n_c = AIPrediction;\nexport default AIPrediction;\nvar _c;\n$RefreshReg$(_c, \"AIPrediction\");","map":{"version":3,"names":["React","useState","useEffect","axios","useParams","useNavigate","jsxDEV","_jsxDEV","Fragment","_Fragment","AIPrediction","_s","symbol","navigate","prediction","setPrediction","sentiment","setSentiment","loading","setLoading","error","setError","news","setNews","priceData","setPriceData","technicalIndicators","setTechnicalIndicators","marketSentiment","setMarketSentiment","FINNHUB_API_KEY","OPENROUTER_API_KEY","ALPHA_VANTAGE_KEY","POLYGON_API_KEY","TWELVE_DATA_KEY","cleanPredictionText","text","replace","split","filter","line","trim","map","fetchTechnicalIndicators","_alphaResponse$data","_alphaResponse$data$T","_twelveResponse$data","_twelveResponse$data$","_twelveResponse$data$2","alphaResponse","get","twelveResponse","indicators","rsi","data","TechnicalAnalysis","RSI","values","err","console","fetchMarketSentiment","_fgiResponse$data","_fgiResponse$data$dat","_fgiResponse$data$dat2","_indicesResponse$data","_indicesResponse$data2","_indicesResponse$data3","_indicesResponse$data4","_indicesResponse$data5","_indicesResponse$data6","_indicesResponse$data7","_indicesResponse$data8","_indicesResponse$data9","fgiResponse","indicesResponse","sentimentData","fearGreedIndex","value","spyChange","StockQuotes","change","qqqChange","diaChange","calculateEnhancedSentiment","priceChange","newsItems","priceChangeNum","parseFloat","sentimentScore","Math","min","max","rsiInfluence","fgi","fgiInfluence","marketPerformance","length","newsSentiment","sentimentWords","positive","negative","strongPositive","strongNegative","forEach","item","headline","toLowerCase","summary","word","includes","sentimentLabel","score","toFixed","label","confidence","abs","fetchHistoricalData","response","timeSeries","dates","Object","keys","sort","last5Days","slice","date","close","trend","volume","generateEnhancedPrediction","stockSymbol","_historicalData$volum","priceResponse","newsResponse","historicalData","Promise","all","Date","now","toISOString","current","changePercent","recentNews","image","url","sentimentAnalysis","latestNews","join","technicalSummary","marketSummary","historicalSummary","toLocaleString","post","model","messages","max_tokens","headers","cleanedPrediction","choices","message","content","fetchStockNews","_polygonNews$data","finnhubNews","polygonNews","catch","results","allNews","filteredNews","thumbnail_url","title","description","article_url","source","publisher","name","datetime","published_utc","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","toUpperCase","window","location","reload","i","index","href","target","rel","src","alt","onError","e","onerror","toLocaleDateString","_c","$RefreshReg$"],"sources":["C:/Users/Shagun Khandelwal/zerodha/client/src/components/AIPrediction/AIPrediction.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, useNavigate } from 'react-router-dom';\r\nimport './AIPrediction.css';\r\n\r\nconst AIPrediction = () => {\r\n  const { symbol } = useParams();\r\n  const navigate = useNavigate();\r\n  const [prediction, setPrediction] = useState(null);\r\n  const [sentiment, setSentiment] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [news, setNews] = useState([]);\r\n  const [priceData, setPriceData] = useState(null);\r\n  const [technicalIndicators, setTechnicalIndicators] = useState(null);\r\n  const [marketSentiment, setMarketSentiment] = useState(null);\r\n\r\n  // API Keys (consider moving these to environment variables)\r\n  const FINNHUB_API_KEY = 'd1aopp9r01qjhvtqeebgd1aopp9r01qjhvtqeec0';\r\n  const OPENROUTER_API_KEY = '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';\r\n  const ALPHA_VANTAGE_KEY = 'OH0ZQBRUAB4ABC4X';\r\n  const POLYGON_API_KEY = 'u1J9Q2zN_6UZx7hLkXvTdKtCIBYKZJxW';\r\n  const TWELVE_DATA_KEY = 'a6b5a5b5f1e14a9d9b5b5b5b5b5b5b5b';\r\n\r\n  // Clean AI response by removing markdown and formatting\r\n  const cleanPredictionText = (text) => {\r\n    return text\r\n      .replace(/^#+\\s*/gm, '') // Remove markdown headers\r\n      .replace(/\\*\\*(.*?)\\*\\*/g, '$1') // Remove bold markdown\r\n      .replace(/\\[(.*?)\\]\\(.*?\\)/g, '$1') // Remove markdown links\r\n      .split('\\n')\r\n      .filter(line => line.trim() !== '') // Remove empty lines\r\n      .map(line => line.trim());\r\n  };\r\n\r\n  // Fetch technical indicators from multiple sources\r\n  const fetchTechnicalIndicators = async (symbol) => {\r\n    try {\r\n      // Fetch from Alpha Vantage\r\n      const alphaResponse = await axios.get(\r\n        `https://www.alphavantage.co/query?function=RSI&symbol=${symbol}&interval=daily&time_period=14&series_type=close&apikey=${ALPHA_VANTAGE_KEY}`\r\n      );\r\n      \r\n      // Fetch from Twelve Data (fallback)\r\n      const twelveResponse = await axios.get(\r\n        `https://api.twelvedata.com/rsi?symbol=${symbol}&interval=1day&outputsize=30&apikey=${TWELVE_DATA_KEY}`\r\n      );\r\n      \r\n      // Process indicators\r\n      const indicators = {\r\n        rsi: alphaResponse.data?.TechnicalAnalysis?.RSI || twelveResponse.data?.values?.[0]?.rsi || null,\r\n        // Add more indicators as needed\r\n      };\r\n      \r\n      setTechnicalIndicators(indicators);\r\n      return indicators;\r\n    } catch (err) {\r\n      console.error(\"Error fetching technical indicators:\", err);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch broader market sentiment\r\n  const fetchMarketSentiment = async () => {\r\n    try {\r\n      // Fetch fear and greed index\r\n      const fgiResponse = await axios.get(\r\n        'https://api.alternative.me/fng/?limit=1'\r\n      );\r\n      \r\n      // Fetch major indices performance\r\n      const indicesResponse = await axios.get(\r\n        `https://www.alphavantage.co/query?function=BATCH_STOCK_QUOTES&symbols=SPY,QQQ,DIA&apikey=${ALPHA_VANTAGE_KEY}`\r\n      );\r\n      \r\n      const sentimentData = {\r\n        fearGreedIndex: fgiResponse.data?.data?.[0]?.value || null,\r\n        spyChange: indicesResponse.data?.StockQuotes?.[0]?.change || null,\r\n        qqqChange: indicesResponse.data?.StockQuotes?.[1]?.change || null,\r\n        diaChange: indicesResponse.data?.StockQuotes?.[2]?.change || null,\r\n      };\r\n      \r\n      setMarketSentiment(sentimentData);\r\n      return sentimentData;\r\n    } catch (err) {\r\n      console.error(\"Error fetching market sentiment:\", err);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Enhanced sentiment analysis with NLP techniques\r\n  const calculateEnhancedSentiment = (priceChange, newsItems, technicalIndicators, marketSentiment) => {\r\n    // Base sentiment from price change (-1 to 1)\r\n    const priceChangeNum = parseFloat(priceChange) || 0;\r\n    let sentimentScore = Math.min(1, Math.max(-1, priceChangeNum / 5));\r\n    \r\n    // Technical indicators influence\r\n    if (technicalIndicators?.rsi) {\r\n      const rsi = parseFloat(technicalIndicators.rsi);\r\n      // RSI between 30-70 is neutral, below 30 is oversold (bullish), above 70 is overbought (bearish)\r\n      const rsiInfluence = rsi < 30 ? 0.2 : rsi > 70 ? -0.2 : 0;\r\n      sentimentScore += rsiInfluence;\r\n    }\r\n    \r\n    // Market sentiment influence\r\n    if (marketSentiment) {\r\n      // Fear and greed index (0-100, 0=extreme fear, 100=extreme greed)\r\n      const fgi = parseFloat(marketSentiment.fearGreedIndex) || 50;\r\n      const fgiInfluence = (fgi - 50) / 100; // Normalize to -0.5 to 0.5\r\n      sentimentScore += fgiInfluence * 0.3;\r\n      \r\n      // Major indices performance\r\n      const spyChange = parseFloat(marketSentiment.spyChange) || 0;\r\n      const qqqChange = parseFloat(marketSentiment.qqqChange) || 0;\r\n      const diaChange = parseFloat(marketSentiment.diaChange) || 0;\r\n      const marketPerformance = (spyChange + qqqChange + diaChange) / 3;\r\n      sentimentScore += marketPerformance / 10;\r\n    }\r\n    \r\n    // Enhanced news analysis with more sophisticated NLP\r\n    if (newsItems && newsItems.length > 0) {\r\n      let newsSentiment = 0;\r\n      const sentimentWords = {\r\n        positive: ['up', 'rise', 'gain', 'strong', 'beat', 'bullish', 'buy', 'outperform', 'positive', 'growth'],\r\n        negative: ['down', 'fall', 'drop', 'weak', 'miss', 'bearish', 'sell', 'underperform', 'negative', 'decline'],\r\n        strongPositive: ['surge', 'soar', 'rocket', 'record high', 'breakout', 'upgrade'],\r\n        strongNegative: ['plunge', 'crash', 'collapse', 'record low', 'downgrade', 'bankrupt']\r\n      };\r\n      \r\n      newsItems.forEach(item => {\r\n        const headline = item.headline.toLowerCase();\r\n        const summary = (item.summary || '').toLowerCase();\r\n        \r\n        // Check for sentiment words with different weights\r\n        sentimentWords.strongPositive.forEach(word => {\r\n          if (headline.includes(word) || summary.includes(word)) {\r\n            newsSentiment += 0.3;\r\n          }\r\n        });\r\n        \r\n        sentimentWords.positive.forEach(word => {\r\n          if (headline.includes(word) || summary.includes(word)) {\r\n            newsSentiment += 0.1;\r\n          }\r\n        });\r\n        \r\n        sentimentWords.negative.forEach(word => {\r\n          if (headline.includes(word) || summary.includes(word)) {\r\n            newsSentiment -= 0.1;\r\n          }\r\n        });\r\n        \r\n        sentimentWords.strongNegative.forEach(word => {\r\n          if (headline.includes(word) || summary.includes(word)) {\r\n            newsSentiment -= 0.3;\r\n          }\r\n        });\r\n        \r\n        // Check for sentiment shifters\r\n        if (headline.includes('but') || summary.includes('however')) {\r\n          newsSentiment *= 0.7; // Reduce sentiment impact for contradictory statements\r\n        }\r\n        \r\n        if (headline.includes('!')) {\r\n          newsSentiment *= 1.2; // Amplify sentiment for emphatic statements\r\n        }\r\n      });\r\n      \r\n      // Average news sentiment and combine with other factors\r\n      newsSentiment = newsSentiment / newsItems.length;\r\n      sentimentScore = (sentimentScore * 0.5) + (newsSentiment * 0.3) + \r\n                      ((technicalIndicators ? 0.1 : 0) + (marketSentiment ? 0.1 : 0));\r\n    }\r\n    \r\n    // Normalize between -1 and 1\r\n    sentimentScore = Math.min(1, Math.max(-1, sentimentScore));\r\n    \r\n    // Determine sentiment label with more granularity\r\n    let sentimentLabel;\r\n    if (sentimentScore > 0.6) {\r\n      sentimentLabel = 'extremely bullish';\r\n    } else if (sentimentScore > 0.3) {\r\n      sentimentLabel = 'strongly bullish';\r\n    } else if (sentimentScore > 0.1) {\r\n      sentimentLabel = 'bullish';\r\n    } else if (sentimentScore < -0.6) {\r\n      sentimentLabel = 'extremely bearish';\r\n    } else if (sentimentScore < -0.3) {\r\n      sentimentLabel = 'strongly bearish';\r\n    } else if (sentimentScore < -0.1) {\r\n      sentimentLabel = 'bearish';\r\n    } else {\r\n      sentimentLabel = 'neutral';\r\n    }\r\n    \r\n    return {\r\n      score: sentimentScore.toFixed(2),\r\n      label: sentimentLabel,\r\n      confidence: Math.abs(sentimentScore) > 0.5 ? 'high' : \r\n                 Math.abs(sentimentScore) > 0.2 ? 'medium' : 'low'\r\n    };\r\n  };\r\n\r\n  // Fetch historical data for trend analysis\r\n  const fetchHistoricalData = async (symbol) => {\r\n    try {\r\n      const response = await axios.get(\r\n        `https://www.alphavantage.co/query?function=TIME_SERIES_DAILY&symbol=${symbol}&outputsize=compact&apikey=${ALPHA_VANTAGE_KEY}`\r\n      );\r\n      \r\n      const timeSeries = response.data['Time Series (Daily)'];\r\n      if (!timeSeries) return null;\r\n      \r\n      const dates = Object.keys(timeSeries).sort();\r\n      const last5Days = dates.slice(0, 5).map(date => ({\r\n        date,\r\n        close: parseFloat(timeSeries[date]['4. close'])\r\n      }));\r\n      \r\n      // Calculate short-term trend\r\n      const trend = last5Days[0].close > last5Days[4].close ? 'up' : \r\n                    last5Days[0].close < last5Days[4].close ? 'down' : 'flat';\r\n      \r\n      return {\r\n        last5Days,\r\n        trend,\r\n        volume: parseFloat(timeSeries[dates[0]]['5. volume'])\r\n      };\r\n    } catch (err) {\r\n      console.error(\"Error fetching historical data:\", err);\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Generate AI prediction with enhanced data\r\n  const generateEnhancedPrediction = async (stockSymbol) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      // Step 1: Gather all data from APIs in parallel\r\n      const [\r\n        priceResponse, \r\n        newsResponse,\r\n        technicalIndicators,\r\n        marketSentiment,\r\n        historicalData\r\n      ] = await Promise.all([\r\n        axios.get(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${stockSymbol}&apikey=${ALPHA_VANTAGE_KEY}`),\r\n        axios.get(`https://finnhub.io/api/v1/company-news?symbol=${stockSymbol}&from=${new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString().split('T')[0]}&to=${new Date().toISOString().split('T')[0]}&token=${FINNHUB_API_KEY}`),\r\n        fetchTechnicalIndicators(stockSymbol),\r\n        fetchMarketSentiment(),\r\n        fetchHistoricalData(stockSymbol)\r\n      ]);\r\n\r\n      // Process price data\r\n      const priceData = priceResponse.data['Global Quote'] || {};\r\n      const priceChange = priceData['10. change percent'] || '0%';\r\n      setPriceData({\r\n        current: priceData['05. price'],\r\n        change: priceData['09. change'],\r\n        changePercent: priceChange,\r\n        volume: historicalData?.volume || null\r\n      });\r\n\r\n      // Process news data\r\n      const recentNews = newsResponse.data\r\n        .filter(item => item.headline && item.image && item.url)\r\n        .slice(0, 5);\r\n      setNews(recentNews);\r\n\r\n      // Calculate enhanced sentiment\r\n      const sentimentAnalysis = calculateEnhancedSentiment(\r\n        priceChange, \r\n        recentNews,\r\n        technicalIndicators,\r\n        marketSentiment\r\n      );\r\n      setSentiment(sentimentAnalysis);\r\n\r\n      // Prepare comprehensive data for AI\r\n      const latestNews = recentNews.length > 0 ? \r\n        recentNews.slice(0, 3).map(item => item.headline).join('\\n- ') : \r\n        'No recent news available';\r\n      \r\n      const technicalSummary = technicalIndicators ? \r\n        `RSI: ${technicalIndicators.rsi || 'N/A'}` : \r\n        'No technical indicators available';\r\n      \r\n      const marketSummary = marketSentiment ? \r\n        `Market Sentiment: Fear/Greed Index ${marketSentiment.fearGreedIndex || 'N/A'}, \r\n         SPY: ${marketSentiment.spyChange || 'N/A'}, \r\n         QQQ: ${marketSentiment.qqqChange || 'N/A'}, \r\n         DIA: ${marketSentiment.diaChange || 'N/A'}` : \r\n        'No market sentiment data available';\r\n      \r\n      const historicalSummary = historicalData ? \r\n        `Recent trend: ${historicalData.trend}, \r\n         Volume: ${historicalData.volume ? historicalData.volume.toLocaleString() : 'N/A'}` : \r\n        'No historical data available';\r\n\r\n      // Step 2: Send to AI for enhanced prediction\r\n      const response = await axios.post('https://openrouter.ai/api/v1/chat/completions', {\r\n        model: \"anthropic/claude-3-haiku\", // More advanced model for better analysis\r\n        messages: [\r\n          { \r\n            \"role\": \"system\", \r\n            \"content\": `You are an advanced stock prediction AI that analyzes multiple data points to forecast stock movements.\r\n                        Provide a detailed prediction for the next 24 hours including:\r\n                        - Predicted direction and percentage change with confidence interval\r\n                        - Key technical factors (RSI, volume, trends)\r\n                        - Market sentiment context\r\n                        - News sentiment analysis\r\n                        - Potential support/resistance levels\r\n                        - Risk factors to consider\r\n                        - Trading strategy suggestion (if appropriate)\r\n                        - Important disclaimer about predictions being speculative\r\n                        \r\n                        Format your response with clear sections using markdown headers and bullet points.\r\n                        Current sentiment: ${sentimentAnalysis.label} (${sentimentAnalysis.score})\r\n                        Confidence: ${sentimentAnalysis.confidence}`\r\n          },\r\n          { \r\n            \"role\": \"user\", \r\n            \"content\": `Generate a comprehensive 24-hour prediction for ${stockSymbol} based on:\r\n                        - Current price: ${priceData['05. price']}\r\n                        - Price change: ${priceChange}\r\n                        - Volume: ${historicalData?.volume?.toLocaleString() || 'N/A'}\r\n                        - Technical indicators: ${technicalSummary}\r\n                        - Market context: ${marketSummary}\r\n                        - Recent trend: ${historicalSummary}\r\n                        - Latest news headlines:\r\n                          - ${latestNews}`\r\n          }\r\n        ],\r\n        max_tokens: 1500\r\n      }, {\r\n        headers: {\r\n          'Authorization': `Bearer ${OPENROUTER_API_KEY}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n\r\n      const cleanedPrediction = cleanPredictionText(response.data.choices[0].message.content);\r\n      setPrediction(cleanedPrediction);\r\n\r\n    } catch (err) {\r\n      console.error(\"Error generating prediction:\", err);\r\n      setError('Failed to generate prediction. Please try again later.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch additional market data\r\n  const fetchStockNews = async (stockSymbol) => {\r\n    try {\r\n      // Try multiple news sources\r\n      const [finnhubNews, polygonNews] = await Promise.all([\r\n        axios.get(\r\n          `https://finnhub.io/api/v1/company-news?symbol=${stockSymbol}&from=${new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString().split('T')[0]}&to=${new Date().toISOString().split('T')[0]}&token=${FINNHUB_API_KEY}`\r\n        ),\r\n        axios.get(\r\n          `https://api.polygon.io/v2/reference/news?ticker=${stockSymbol}&limit=5&apiKey=${POLYGON_API_KEY}`\r\n        ).catch(() => ({ data: { results: [] } })) // Fallback if fails\r\n      ]);\r\n      \r\n      // Combine and filter news\r\n      const allNews = [\r\n        ...(finnhubNews.data || []),\r\n        ...(polygonNews.data?.results || [])\r\n      ];\r\n      \r\n      const filteredNews = allNews\r\n        .filter(item => item.headline && (item.image || item.thumbnail_url) && item.url)\r\n        .slice(0, 5)\r\n        .map(item => ({\r\n          headline: item.headline || item.title,\r\n          summary: item.summary || item.description,\r\n          image: item.image || item.thumbnail_url,\r\n          url: item.url || item.article_url,\r\n          source: item.source || (item.publisher ? item.publisher.name : 'Unknown'),\r\n          date: item.datetime || item.published_utc\r\n        }));\r\n      \r\n      setNews(filteredNews);\r\n    } catch (err) {\r\n      console.error(\"Error fetching news:\", err);\r\n    }\r\n  };\r\n\r\n  // Load all data when symbol changes\r\n  useEffect(() => {\r\n    if (symbol) {\r\n      setLoading(true);\r\n      generateEnhancedPrediction(symbol);\r\n      fetchStockNews(symbol);\r\n    }\r\n  }, [symbol]);\r\n\r\n  if (!symbol) {\r\n    return (\r\n      <div className=\"ai-prediction-container\">\r\n        <div className=\"empty-state\">\r\n          <div className=\"empty-icon\">📈</div>\r\n          <h3>No Stock Selected</h3>\r\n          <p>Please select a stock symbol to view AI predictions</p>\r\n          <button onClick={() => navigate('/watchlist')} className=\"primary-button\">\r\n            Browse Stocks\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"ai-prediction-container\">\r\n      <div className=\"ai-prediction-header\">\r\n        <div className=\"header-content\">\r\n          <h1 className=\"stock-symbol\">{symbol.toUpperCase()}</h1>\r\n          {priceData && (\r\n            <div className={`price-display ${parseFloat(priceData.change) >= 0 ? 'positive' : 'negative'}`}>\r\n              <span className=\"price\">${priceData.current}</span>\r\n              <span className=\"change\">\r\n                {parseFloat(priceData.change) >= 0 ? '↑' : '↓'} \r\n                {priceData.change} ({priceData.changePercent})\r\n              </span>\r\n              {priceData.volume && (\r\n                <span className=\"volume\">Vol: {priceData.volume.toLocaleString()}</span>\r\n              )}\r\n            </div>\r\n          )}\r\n          <p className=\"stock-name\">Advanced 24-Hour AI Prediction Analysis</p>\r\n        </div>\r\n        <button onClick={() => navigate(-1)} className=\"back-button\">\r\n          ← Back to Watchlist\r\n        </button>\r\n      </div>\r\n\r\n      {loading ? (\r\n        <div className=\"loading-state\">\r\n          <div className=\"loading-animation\">\r\n            <div className=\"loading-bar\"></div>\r\n            <div className=\"loading-bar\"></div>\r\n            <div className=\"loading-bar\"></div>\r\n          </div>\r\n          <p>Analyzing comprehensive market data for {symbol.toUpperCase()}...</p>\r\n          <p className=\"loading-subtext\">Fetching price data, news, technical indicators, and market sentiment</p>\r\n        </div>\r\n      ) : error ? (\r\n        <div className=\"error-state\">\r\n          <div className=\"error-icon\">⚠️</div>\r\n          <h3>Prediction Error</h3>\r\n          <p>{error}</p>\r\n          <button onClick={() => window.location.reload()} className=\"primary-button\">\r\n            Retry Analysis\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          {prediction && (\r\n            <div className=\"prediction-section\">\r\n              <div className=\"prediction-card\">\r\n                <div className=\"card-header\">\r\n                  <div className=\"sentiment-indicator\">\r\n                    <div className={`sentiment-dot ${sentiment.label.replace(' ', '-')}`}></div>\r\n                    <span className=\"sentiment-label\">\r\n                      {sentiment.label} sentiment ({sentiment.score}) - Confidence: {sentiment.confidence}\r\n                    </span>\r\n                  </div>\r\n                  <h2 className=\"prediction-title\">Advanced AI Prediction Analysis</h2>\r\n                </div>\r\n                \r\n                <div className=\"prediction-content\">\r\n                  {prediction.map((line, i) => (\r\n                    <p key={i} className=\"prediction-line\">{line}</p>\r\n                  ))}\r\n                </div>\r\n                \r\n                <div className=\"prediction-footer\">\r\n                  <div className=\"disclaimer\">\r\n                    <p><strong>Disclaimer:</strong> This AI-generated forecast is for informational purposes only and should not be considered financial advice. Predictions are based on historical data and statistical models which may not account for all market variables. Always conduct your own research before making investment decisions.</p>\r\n                  </div>\r\n                  <button \r\n                    onClick={() => generateEnhancedPrediction(symbol)} \r\n                    className=\"refresh-button\"\r\n                  >\r\n                    ↻ Refresh with Latest Data\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"data-sections\">\r\n            <div className=\"technical-section\">\r\n              <h2 className=\"section-title\">Technical Indicators</h2>\r\n              {technicalIndicators ? (\r\n                <div className=\"indicators-grid\">\r\n                  <div className=\"indicator-card\">\r\n                    <h3>RSI (14-day)</h3>\r\n                    <p className=\"indicator-value\">{technicalIndicators.rsi || 'N/A'}</p>\r\n                    <p className=\"indicator-analysis\">\r\n                      {technicalIndicators.rsi > 70 ? 'Overbought' : \r\n                       technicalIndicators.rsi < 30 ? 'Oversold' : 'Neutral'}\r\n                    </p>\r\n                  </div>\r\n                  {/* Add more indicators as needed */}\r\n                </div>\r\n              ) : (\r\n                <div className=\"empty-indicators\">\r\n                  <p>No technical indicators available</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"market-sentiment-section\">\r\n              <h2 className=\"section-title\">Market Context</h2>\r\n              {marketSentiment ? (\r\n                <div className=\"sentiment-grid\">\r\n                  <div className=\"sentiment-card\">\r\n                    <h3>Fear & Greed Index</h3>\r\n                    <p className=\"sentiment-value\">{marketSentiment.fearGreedIndex || 'N/A'}</p>\r\n                    <p className=\"sentiment-label\">\r\n                      {marketSentiment.fearGreedIndex > 75 ? 'Extreme Greed' : \r\n                       marketSentiment.fearGreedIndex > 55 ? 'Greed' : \r\n                       marketSentiment.fearGreedIndex < 25 ? 'Extreme Fear' : \r\n                       marketSentiment.fearGreedIndex < 45 ? 'Fear' : 'Neutral'}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"sentiment-card\">\r\n                    <h3>SPY (S&P 500)</h3>\r\n                    <p className={`sentiment-value ${marketSentiment.spyChange >= 0 ? 'positive' : 'negative'}`}>\r\n                      {marketSentiment.spyChange || 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"sentiment-card\">\r\n                    <h3>QQQ (Nasdaq)</h3>\r\n                    <p className={`sentiment-value ${marketSentiment.qqqChange >= 0 ? 'positive' : 'negative'}`}>\r\n                      {marketSentiment.qqqChange || 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"sentiment-card\">\r\n                    <h3>DIA (Dow Jones)</h3>\r\n                    <p className={`sentiment-value ${marketSentiment.diaChange >= 0 ? 'positive' : 'negative'}`}>\r\n                      {marketSentiment.diaChange || 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              ) : (\r\n                <div className=\"empty-sentiment\">\r\n                  <p>No market sentiment data available</p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"news-section\">\r\n            <h2 className=\"section-title\">Latest Market News</h2>\r\n            {news.length > 0 ? (\r\n              <div className=\"news-grid\">\r\n                {news.map((item, index) => (\r\n                  <a \r\n                    key={index} \r\n                    href={item.url} \r\n                    target=\"_blank\" \r\n                    rel=\"noopener noreferrer\"\r\n                    className=\"news-card\"\r\n                  >\r\n                    <div className=\"news-image-container\">\r\n                      <img \r\n                        src={item.image} \r\n                        alt={item.headline} \r\n                        className=\"news-image\"\r\n                        onError={(e) => {\r\n                          e.target.onerror = null;\r\n                          e.target.src = 'https://via.placeholder.com/300x200?text=No+Image';\r\n                        }}\r\n                      />\r\n                    </div>\r\n                    <div className=\"news-content\">\r\n                      <h3 className=\"news-headline\">{item.headline}</h3>\r\n                      <div className=\"news-meta\">\r\n                        <span className=\"news-source\">{item.source}</span>\r\n                        <span className=\"news-date\">\r\n                          {item.date ? new Date(item.date).toLocaleDateString() : 'Recent'}\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"news-summary\">{item.summary || 'Read more...'}</p>\r\n                    </div>\r\n                  </a>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <div className=\"empty-news\">\r\n                <p>No recent news found for {symbol.toUpperCase()}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AIPrediction;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}